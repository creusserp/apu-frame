Feature: Login # features/login.feature:2

  @RUN
  Scenario: I can login into the Tools QA page with an existing user and correct password  # features/login.feature:6
    Given I open the Tools QA page                                                         # features/steps/common_steps.py:17
      Traceback (most recent call last):
        File "/home/runner/.local/share/virtualenvs/apu-frame-jBQYil_C/lib/python3.8/site-packages/behave/model.py", line 1329, in run
          match.run(runner.context)
        File "/home/runner/.local/share/virtualenvs/apu-frame-jBQYil_C/lib/python3.8/site-packages/behave/matchers.py", line 98, in run
          self.func(context, *args, **kwargs)
        File "features/steps/common_steps.py", line 21, in open_main_page
          browser = context.playwright.chromium.launch(
        File "/home/runner/.local/share/virtualenvs/apu-frame-jBQYil_C/lib/python3.8/site-packages/playwright/sync_api/_generated.py", line 14440, in launch
          self._sync(
        File "/home/runner/.local/share/virtualenvs/apu-frame-jBQYil_C/lib/python3.8/site-packages/playwright/_impl/_sync_base.py", line 115, in _sync
          return task.result()
        File "/home/runner/.local/share/virtualenvs/apu-frame-jBQYil_C/lib/python3.8/site-packages/playwright/_impl/_browser_type.py", line 95, in launch
          Browser, from_channel(await self._channel.send("launch", params))
        File "/home/runner/.local/share/virtualenvs/apu-frame-jBQYil_C/lib/python3.8/site-packages/playwright/_impl/_connection.py", line 59, in send
          return await self._connection.wrap_api_call(
        File "/home/runner/.local/share/virtualenvs/apu-frame-jBQYil_C/lib/python3.8/site-packages/playwright/_impl/_connection.py", line 520, in wrap_api_call
          raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
      playwright._impl._errors.Error: BrowserType.launch: Executable doesn't exist at /home/runner/.cache/ms-playwright/chromium-1140/chrome-linux/chrome
      ╔════════════════════════════════════════════════════════════╗
      ║ Looks like Playwright was just installed or updated.       ║
      ║ Please run the following command to download new browsers: ║
      ║                                                            ║
      ║     playwright install                                     ║
      ║                                                            ║
      ║ <3 Playwright Team                                         ║
      ╚════════════════════════════════════════════════════════════╝

    When I complete the user name field with testing user name                             # None
    And I complete the password field with testing user password                           # None
    And I click the Login button                                                           # None
    Then I see the "profile" page is displayed                                             # None
    And I see the user name is displayed in the page                                       # None

  @RUN
  Scenario: After login I can see the "Elements" menu and click on "Text Box" option  # features/login.feature:15
    Given I open the Tools QA page                                                    # features/steps/common_steps.py:17
      Traceback (most recent call last):
        File "/home/runner/.local/share/virtualenvs/apu-frame-jBQYil_C/lib/python3.8/site-packages/behave/model.py", line 1329, in run
          match.run(runner.context)
        File "/home/runner/.local/share/virtualenvs/apu-frame-jBQYil_C/lib/python3.8/site-packages/behave/matchers.py", line 98, in run
          self.func(context, *args, **kwargs)
        File "features/steps/common_steps.py", line 21, in open_main_page
          browser = context.playwright.chromium.launch(
        File "/home/runner/.local/share/virtualenvs/apu-frame-jBQYil_C/lib/python3.8/site-packages/playwright/sync_api/_generated.py", line 14440, in launch
          self._sync(
        File "/home/runner/.local/share/virtualenvs/apu-frame-jBQYil_C/lib/python3.8/site-packages/playwright/_impl/_sync_base.py", line 115, in _sync
          return task.result()
        File "/home/runner/.local/share/virtualenvs/apu-frame-jBQYil_C/lib/python3.8/site-packages/playwright/_impl/_browser_type.py", line 95, in launch
          Browser, from_channel(await self._channel.send("launch", params))
        File "/home/runner/.local/share/virtualenvs/apu-frame-jBQYil_C/lib/python3.8/site-packages/playwright/_impl/_connection.py", line 59, in send
          return await self._connection.wrap_api_call(
        File "/home/runner/.local/share/virtualenvs/apu-frame-jBQYil_C/lib/python3.8/site-packages/playwright/_impl/_connection.py", line 520, in wrap_api_call
          raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
      playwright._impl._errors.Error: BrowserType.launch: Executable doesn't exist at /home/runner/.cache/ms-playwright/chromium-1140/chrome-linux/chrome
      ╔════════════════════════════════════════════════════════════╗
      ║ Looks like Playwright was just installed or updated.       ║
      ║ Please run the following command to download new browsers: ║
      ║                                                            ║
      ║     playwright install                                     ║
      ║                                                            ║
      ║ <3 Playwright Team                                         ║
      ╚════════════════════════════════════════════════════════════╝

    When I complete the user name field with testing user name                        # None
    And I complete the password field with testing user password                      # None
    And I click the Login button                                                      # None
    And I expand "Elements" menu                                                      # None
    And I click "Text Box" option                                                     # None
    Then I see the "Text Box" page is displayed                                       # None

Feature: Api # features/apis.feature:2

  Scenario: I can login Tools QA page through the API  # features/apis.feature:6
    Given I login to demoqa page through API           # features/steps/admin_steps.py:13
    Then I see the response contains the access token  # features/steps/admin_steps.py:32

